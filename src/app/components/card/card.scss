$card-height: 270;
$card-width: 200;
$card-width-stack: 60;
$num-cards: 14;

$card-images: (
	'blank--',
	'number--1',
	'number--2',
	'number--3',
	'number--4',
	'number--5',
	'action--ambush',
	'action--communism',
	'action--hoard',
	'action--quarrel',
	'action--whirlwind',
	'action--winter',
	'special--golden',
	'special--rotten'
);

@mixin generate-cards {
	@each $name in $card-images {
		&.#{$name} {
			background-image: url('../images/#{$name}.png');
		}
	}
}

@keyframes spin {
	to {
		// opacity: 0;
		transform: rotateY(120deg);
	}
}

@keyframes spin-reverse {
	to {
		// opacity: 1;
		transform: rotateY(0deg);
	}
}

%playing-cards {
	height: rem-calc($card-height);
	position: relative;
	width: rem-calc($card-width);

	card,
	.card {
		height: 100%;
		position: absolute;
		width: rem-calc($card-width);
	}

	.card {
		@include generate-cards;

		background-repeat: no-repeat;
		background-size: 125px 168px; // FIXME
		color: get-color(white);
		display: block;
		font-size: 4rem;
		height: 100%;
		outline: none;

		&:focus {
			outline: none;
		}
	}

	[role='button'] {
		display: block;
		height: 100%;
	}
}

.action-card {
	.card {
		animation-fill-mode: forwards;
		backface-visibility: hidden;
	}

	[card-type='blank'] {
		.card {
			animation-duration: 4s;
			animation-name: spin;
			animation-timing-function: linear;
		}
	}

	[card-type='action'] {
		.card {
			animation-delay: 3s;
			animation-duration: 1s;
			animation-name: spin-reverse;
			animation-timing-function: ease-out;
			transform: rotateY(-90deg);
		}
	}
}
